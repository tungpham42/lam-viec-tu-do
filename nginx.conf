# Auto generated nginx config file by DirectAdmin version 1.63.7
# Modifying this file is not recommended as any changes you make will be
# overwritten when the user makes any changes to their website

# For global config changes that affect all Users, see this guide:
# http://help.directadmin.com/item.php?id=558
# For local config changes that only affect one User, see this guide:
# http://help.directadmin.com/item.php?id=3

# Auto generated nginx config file by DirectAdmin version 1.60.3
# Modifying this file is not recommended as any changes you make will be
# overwritten when the user makes any changes to their website

# For global config changes that affect all Users, see this guide:
# http://help.directadmin.com/item.php?id=558
# For local config changes that only affect one User, see this guide:
# http://help.directadmin.com/item.php?id=3

server {
	listen 45.251.112.84:80;
	server_name www.lamviectudo.xyz;
	return 301 $scheme://lamviectudo.xyz$request_uri;
}

server {
	listen 45.251.112.84:443 ssl http2;
	server_name www.lamviectudo.xyz;
	ssl_certificate /usr/local/directadmin/data/users/lamviec/domains/lamviectudo.xyz.cert.combined;
	ssl_certificate_key /usr/local/directadmin/data/users/lamviec/domains/lamviectudo.xyz.key;
	return 301 $scheme://lamviectudo.xyz$request_uri;
}

server
{
	listen 45.251.112.84:80;
	server_name lamviectudo.xyz;
	return 301 https://$host$request_uri;
}

server
{
	listen 45.251.112.84:443 ssl http2;
	server_name lamviectudo.xyz www.lamviectudo.xyz ;

	add_header X-Frame-Options "SAMEORIGIN";
	add_header X-XSS-Protection "1; mode=block";
	add_header X-Content-Type-Options "nosniff";
	add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;
	#add_header Content-Security-Policy "default-src 'self';" always;
	
	charset utf-8;

	location / {
        try_files $uri $uri/ /index.php$is_args$args;
    }

    location = /favicon.ico { log_not_found off; access_log off; }
    location = /robots.txt { log_not_found off; access_log off; allow all; }
    location ~* \.(css|gif|ico|jpeg|jpg|js|png)$ {
        expires max;
        log_not_found off;
    }
	access_log /var/log/nginx/domains/lamviectudo.xyz.log;
	access_log /var/log/nginx/domains/lamviectudo.xyz.bytes bytes;
	error_log /var/log/nginx/domains/lamviectudo.xyz.error.log;
	root /home/lamviec/domains/lamviectudo.xyz/private_html;
	index index.php index.html index.htm;
	ssl_certificate /usr/local/directadmin/data/users/lamviec/domains/lamviectudo.xyz.cert.combined;
	ssl_certificate_key /usr/local/directadmin/data/users/lamviec/domains/lamviectudo.xyz.key;
	include /usr/local/directadmin/data/users/lamviec/nginx_php.conf;
	include /etc/nginx/webapps.ssl.conf;
}